[gd_scene load_steps=57 format=4 uid="uid://b61owyr3mgynk"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_b2d52"]
[ext_resource type="Texture2D" uid="uid://bqdgc8edaynt7" path="res://graphics/ts.png" id="1_s52b1"]
[ext_resource type="Script" path="res://scripts/player.gd" id="2_bt70p"]
[ext_resource type="Texture2D" uid="uid://bwuyeu2tht6ib" path="res://graphics/worm_walk.png" id="3_72yba"]
[ext_resource type="Texture2D" uid="uid://dyutdw3ncrd61" path="res://graphics/worm_jump.png" id="3_dfxw6"]
[ext_resource type="Texture2D" uid="uid://cjq6hxddntg3c" path="res://graphics/bg02.png" id="3_gdwfg"]
[ext_resource type="Texture2D" uid="uid://coyiagb8mgeo3" path="res://graphics/worm_idle.png" id="3_jtw2p"]
[ext_resource type="Texture2D" uid="uid://dpoc6owwfpdom" path="res://graphics/bg04.png" id="4_ilgti"]
[ext_resource type="Texture2D" uid="uid://cfubocopkwqjl" path="res://graphics/bg03.png" id="4_pmusd"]
[ext_resource type="Texture2D" uid="uid://djp4gptkg5hbt" path="res://graphics/bg.png" id="6_hew21"]
[ext_resource type="PackedScene" uid="uid://b2jocnclqbn65" path="res://scene/platform.tscn" id="6_jqwev"]
[ext_resource type="Texture2D" uid="uid://bj6dy5ac7pmvp" path="res://graphics/bg01.png" id="7_5myje"]
[ext_resource type="PackedScene" uid="uid://bbkcgejvl268x" path="res://scene/christmas_light.tscn" id="11_3e455"]
[ext_resource type="PackedScene" uid="uid://b6bh6w2nj5wpo" path="res://scene/christmas_tree.tscn" id="12_80i16"]
[ext_resource type="PackedScene" uid="uid://d1axjq533pdtf" path="res://scene/fade_area.tscn" id="12_mae0n"]
[ext_resource type="PackedScene" uid="uid://cq23ae5kmkq3" path="res://scene/door.tscn" id="15_ccuwj"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_70hkc"]
texture = ExtResource("1_s52b1")
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, -4.25, -8, -4.125)
0:0/0/physics_layer_0/polygon_0/one_way = true
0:0/0/terrains_peering_bit/right_side = 0
1:0/0 = 0
1:0/0/terrain_set = 0
1:0/0/terrain = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, -4.25, -8, -4.125)
1:0/0/physics_layer_0/polygon_0/one_way = true
1:0/0/terrains_peering_bit/right_side = 0
1:0/0/terrains_peering_bit/left_side = 0
2:0/0 = 0
2:0/0/terrain_set = 0
2:0/0/terrain = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, -4.25, -8, -4.125)
2:0/0/physics_layer_0/polygon_0/one_way = true
2:0/0/terrains_peering_bit/left_side = 0
3:0/0 = 0
3:0/0/terrain_set = 0
3:0/0/terrain = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:0/0/terrains_peering_bit/right_side = 0
4:0/0 = 0
4:0/0/terrain_set = 0
4:0/0/terrain = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:0/0/terrains_peering_bit/right_side = 0
4:0/0/terrains_peering_bit/left_side = 0
5:0/0 = 0
5:0/0/terrain_set = 0
5:0/0/terrain = 0
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:0/0/terrains_peering_bit/right_side = 0
5:0/0/terrains_peering_bit/left_side = 0
6:0/0 = 0
6:0/0/terrain_set = 0
6:0/0/terrain = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:0/0/terrains_peering_bit/right_side = 0
6:0/0/terrains_peering_bit/left_side = 0
7:0/0 = 0
7:0/0/terrain_set = 0
7:0/0/terrain = 0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:0/0/terrains_peering_bit/left_side = 0
0:1/0 = 0
0:1/0/terrain_set = 0
1:1/0 = 0
1:1/0/terrain_set = 0
2:1/0 = 0
2:1/0/terrain_set = 0
4:1/0 = 0
4:1/0/terrain_set = 0
4:1/0/terrain = 0
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:1/0/terrains_peering_bit/bottom_side = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
4:2/0 = 0
4:2/0/terrain_set = 0
4:2/0/terrain = 0
4:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:2/0/terrains_peering_bit/bottom_side = 0
4:2/0/terrains_peering_bit/top_side = 0
4:3/0 = 0
4:3/0/terrain_set = 0
4:3/0/terrain = 0
4:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:3/0/terrains_peering_bit/bottom_side = 0
4:3/0/terrains_peering_bit/top_side = 0
4:4/0 = 0
4:4/0/terrain_set = 0
4:4/0/terrain = 0
4:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:4/0/terrains_peering_bit/top_side = 0
7:4/0 = 0
6:5/0 = 0
7:5/0 = 0

[sub_resource type="TileSet" id="TileSet_cucjv"]
physics_layer_0/collision_layer = 1
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Ground 0"
terrain_set_0/terrain_0/color = Color(0.643813, 0.000154115, 0.588813, 1)
sources/1 = SubResource("TileSetAtlasSource_70hkc")

[sub_resource type="AtlasTexture" id="AtlasTexture_8u4t3"]
atlas = ExtResource("3_jtw2p")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_e5pm4"]
atlas = ExtResource("3_jtw2p")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_jl4ie"]
atlas = ExtResource("3_jtw2p")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_a0n68"]
atlas = ExtResource("3_jtw2p")
region = Rect2(48, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_mfysl"]
atlas = ExtResource("3_dfxw6")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_msitv"]
atlas = ExtResource("3_dfxw6")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_tbx6t"]
atlas = ExtResource("3_dfxw6")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_gstj3"]
atlas = ExtResource("3_dfxw6")
region = Rect2(48, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_brlac"]
atlas = ExtResource("3_dfxw6")
region = Rect2(64, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_vvi7m"]
atlas = ExtResource("3_dfxw6")
region = Rect2(80, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_rmqfu"]
atlas = ExtResource("3_dfxw6")
region = Rect2(96, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_8tc31"]
atlas = ExtResource("3_dfxw6")
region = Rect2(112, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_2nu86"]
atlas = ExtResource("3_dfxw6")
region = Rect2(128, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_c5mgd"]
atlas = ExtResource("3_dfxw6")
region = Rect2(144, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_r6ig3"]
atlas = ExtResource("3_dfxw6")
region = Rect2(160, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_vtqf0"]
atlas = ExtResource("3_dfxw6")
region = Rect2(176, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_jgw7i"]
atlas = ExtResource("3_72yba")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_wgmrj"]
atlas = ExtResource("3_72yba")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_w7sjg"]
atlas = ExtResource("3_72yba")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_anohc"]
atlas = ExtResource("3_72yba")
region = Rect2(48, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_0fty8"]
atlas = ExtResource("3_72yba")
region = Rect2(64, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ixssb"]
atlas = ExtResource("3_72yba")
region = Rect2(80, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_mrcvm"]
atlas = ExtResource("3_72yba")
region = Rect2(96, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_33t7y"]
atlas = ExtResource("3_72yba")
region = Rect2(112, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ifao"]
atlas = ExtResource("3_72yba")
region = Rect2(128, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_lpiju"]
atlas = ExtResource("3_72yba")
region = Rect2(144, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_uoid7"]
atlas = ExtResource("3_72yba")
region = Rect2(160, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_7t7fy"]
atlas = ExtResource("3_72yba")
region = Rect2(176, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_r4f6s"]
atlas = ExtResource("3_72yba")
region = Rect2(192, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_jl2a3"]
atlas = ExtResource("3_72yba")
region = Rect2(208, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_5nc04"]
atlas = ExtResource("3_72yba")
region = Rect2(224, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_kt15u"]
atlas = ExtResource("3_72yba")
region = Rect2(240, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_ib3qp"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8u4t3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e5pm4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jl4ie")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a0n68")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_mfysl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_msitv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tbx6t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gstj3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_brlac")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vvi7m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rmqfu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8tc31")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2nu86")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c5mgd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r6ig3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vtqf0")
}],
"loop": false,
"name": &"Jump",
"speed": 45.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jgw7i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wgmrj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w7sjg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_anohc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0fty8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ixssb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mrcvm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_33t7y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7ifao")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lpiju")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uoid7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7t7fy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r4f6s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jl2a3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5nc04")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kt15u")
}],
"loop": true,
"name": &"Walk",
"speed": 20.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_b2xki"]
size = Vector2(16, 9)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_xjhmv"]
texture = ExtResource("1_s52b1")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
4:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
4:2/0 = 0
4:3/0 = 0
4:4/0 = 0
7:4/0 = 0
6:5/0 = 0
7:5/0 = 0

[sub_resource type="TileSet" id="TileSet_mb3i3"]
sources/2 = SubResource("TileSetAtlasSource_xjhmv")

[sub_resource type="Environment" id="Environment_yeopn"]
background_mode = 3
glow_enabled = true
glow_intensity = 1.35
glow_strength = 0.8
glow_blend_mode = 1
glow_hdr_scale = 0.54
glow_hdr_luminance_cap = 34.75
glow_map_strength = 0.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8ckot"]
size = Vector2(1773, 30)

[node name="Root" type="Node2D"]
script = ExtResource("1_b2d52")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD8//v/AQAGAAAAAAD9//v/AQAGAAAAAAD+//v/AQAAAAAAAAD///v/AQABAAAAAAACAPv/AQAFAAAAAAADAPv/AQAGAAAAAAAEAPv/AQAEAAAAAAAFAPv/AQAGAAAAAAAGAPv/AQAGAAAAAAAHAPv/AQAFAAAAAAAIAPv/AQAFAAAAAAAJAPv/AQAGAAAAAAAMAPv/AQAFAAAAAAANAPv/AQAEAAAAAAAOAPv/AQAGAAAAAAAPAPv/AQAFAAAAAAAQAPv/AQAEAAAAAAARAPv/AQAFAAAAAAASAPv/AQAHAAAAAAAKAPv/AQAFAAAAAAALAPv/AQAEAAAAAAD5//v/AQADAAAAAAD6//v/AQAFAAAAAAD7//v/AQAGAAAAAAD4//r/AQAEAAQAAAD4//n/AQAEAAEAAAD4//b/AQACAAEAAAD4//X/AQAEAAEAAAD3//n/AQAHAAAAAAD2//n/AQAGAAAAAAD1//n/AQADAAAAAAD3//b/AQAFAAAAAAD2//b/AQAFAAAAAAD1//b/AQADAAAAAAD0//f/AQAEAAEAAAD0//j/AQAEAAQAAAAiAPf/AQADAAAAAAAjAPf/AQAFAAAAAAAkAPf/AQAFAAAAAAAlAPf/AQAEAAAAAAAmAPf/AQAHAAAAAAAAAPv/AQACAAAAAAABAPv/AQADAAAAAAD9//z/AQAEAAAAAAD9//3/AQAEAAAAAAD9//7/AQAEAAAAAAD+//7/AQAEAAAAAAD///7/AQAEAAAAAAAAAP7/AQAEAAAAAAABAP7/AQAEAAAAAAABAP3/AQAEAAAAAAABAPz/AQAEAAAAAAA=")
tile_set = SubResource("TileSet_cucjv")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0, 0)

[node name="Bg" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
scale = Vector2(2, 2)
texture = ExtResource("6_hew21")
centered = false

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
modulate = Color(1, 1, 1, 0.117647)
motion_scale = Vector2(0.2, 0.2)
motion_mirroring = Vector2(320, 200)

[node name="Bg02" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
texture = ExtResource("3_gdwfg")
centered = false

[node name="ParallaxLayer4" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.3, 0.1)
motion_mirroring = Vector2(320, 320)

[node name="Bg04" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer4"]
texture = ExtResource("4_ilgti")
centered = false

[node name="ParallaxLayer3" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.7, 0.3)
motion_mirroring = Vector2(320, 320)

[node name="Bg03" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer3"]
modulate = Color(1, 1, 1, 0.94902)
texture = ExtResource("4_pmusd")
centered = false

[node name="Platforms" type="Node2D" parent="."]

[node name="Platform" parent="Platforms" instance=ExtResource("6_jqwev")]
position = Vector2(259, -108)
distance = Vector2(0, 60)

[node name="Platform2" parent="Platforms" instance=ExtResource("6_jqwev")]
position = Vector2(380, -145)
distance = Vector2(100, 0)
phase_time = 10.0

[node name="ChristmasTree" parent="." instance=ExtResource("12_80i16")]
position = Vector2(190, -160)

[node name="ChristmasLights" type="Node2D" parent="."]
position = Vector2(212, 32)

[node name="Cl0" parent="ChristmasLights" instance=ExtResource("11_3e455")]
modulate = Color(0, 0.846053, 0.851416, 1)
self_modulate = Color(2, 2, 2, 1)
position = Vector2(-131, -121)

[node name="Cl2" parent="ChristmasLights" instance=ExtResource("11_3e455")]
modulate = Color(0.573218, 0.570137, 0.199081, 1)
self_modulate = Color(2, 2, 2, 1)
position = Vector2(-214, -72)
scale = Vector2(0.994918, 1.06159)
id = 2.0

[node name="Cl1" parent="ChristmasLights" instance=ExtResource("11_3e455")]
modulate = Color(1, 0.683905, 0.617999, 1)
position = Vector2(-377, -153)
id = 1.0

[node name="Doors" type="Node2D" parent="."]

[node name="Door" parent="Doors" instance=ExtResource("15_ccuwj")]
position = Vector2(48, -80)
destination = Vector2(575, -144)

[node name="Door2" parent="Doors" instance=ExtResource("15_ccuwj")]
position = Vector2(605, -144)
destination = Vector2(48, -80)

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(-76, -89)
script = ExtResource("2_bt70p")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Player"]
sprite_frames = SubResource("SpriteFrames_ib3qp")
animation = &"Jump"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(0, 3.5)
shape = SubResource("RectangleShape2D_b2xki")

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(0, -25)
zoom = Vector2(2, 2)
drag_horizontal_enabled = true

[node name="TileMapLayer_HiddenArea" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD4//j/AgAEAAIAAAD4//f/AgAEAAIAAAD3//j/AgAEAAIAAAD3//f/AgAEAAIAAAD2//f/AgAEAAIAAAD2//j/AgAEAAIAAAD1//f/AgAEAAIAAAD1//j/AgAEAAIAAAA=")
tile_set = SubResource("TileSet_mb3i3")

[node name="FadeArea" parent="TileMapLayer_HiddenArea" instance=ExtResource("12_mae0n")]
position = Vector2(-144, -128)
scale = Vector2(-3.19726, 2.52873)

[node name="ParallaxForeground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxForeground"]
z_index = 1
motion_scale = Vector2(1.2, 0)
motion_mirroring = Vector2(640, 0)

[node name="Bg01" type="Sprite2D" parent="ParallaxForeground/ParallaxLayer2"]
texture = ExtResource("7_5myje")
centered = false

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_yeopn")

[node name="Area2D" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(468.5, 199)
shape = SubResource("RectangleShape2D_8ckot")

[connection signal="body_entered" from="Area2D" to="." method="_on_area_2d_body_entered"]
